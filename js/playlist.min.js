!function(a,i){function n(i){if(i>u){e();var o=l(f);return a("#playlist-info-duration").html(o),!1}var t=new Audio;t.src=a(k[i]).data("src"),t.preload="metadataonly",function(e){e.addEventListener("loadedmetadata",function(){var o=a(this)[0].duration;f+=o;var t=l(o);p.find("li:eq("+i+") span.track-duration").html(t),++b,e.src=a(k[b]).data("src"),n(b)})}(t)}function l(a){if(""!=a){var i=Math.round(a)%60,n=Math.floor(a/60)%60,l=Math.floor(a/3600);return i<10&&(i="0"+i),n<10&&(n="0"+n),0==l?n+":"+i:l+":"+n+":"+i}}function e(){first=a("ol a").attr("data-src"),a("ol li").first().addClass("playing"),m.load(first)}function o(a){var i=a.val();i!=c&&(c=i,m.setVolume(i))}function t(){if(u>1){var i=a("li.playing").next();i.length||(i=a("ol li").first()),i.click()}}function r(){if(u>1){var i=a("li.playing").prev();i.length||(i=a("ol li").last()),i.click()}}var s="";s+='<div id="extended-controls-pre">',s+='<span id="prev-track" class="glyphicon glyphicon-chevron-left"></span>',s+='<span id="next-track" class="glyphicon glyphicon-chevron-right"></span>',s+="</div>";var d="";d+='<div id="extended-controls-post">',d+='<div id="volume-container">',d+='<span class="glyphicon glyphicon-volume-down"> </span>',d+='<input id="volume-slider" type="range" min="0" max="1" step="0.01" value="0.5" />',d+='<span class="glyphicon glyphicon-volume-up"> </span>',d+="</div>",d+="</div>",d+='<div style="clear:both;"></div>';var c=.5,p=a("#playlist"),u=p.find("li").length,v=0,f=0,y="";y+='<div id="playlist-info-container">',y+='<span id="playlist-info-number-tracks">'+u+"</span> tracks",y+=', <span id="playlist-info-duration"></span> playing time',y+="</div>";var h=i.createAll({trackEnded:function(){var i=a("ol li.playing").next();i.length||(i=a("ol li").first()),i.addClass("playing").siblings().removeClass("playing"),m.load(a("a",i).attr("data-src")),m.play()}}),g=a(".audiojs"),m=h[0];if(u>1){g.before(s),p.before(y),a("#playlist li").each(function(i,n){a(n).removeClass("playing")});var k=p.find("li a"),b=0;n(b)}g.after(d),i.events.addListener(m.source,"error",function(a){v<10&&(v++,g.addClass("loading"),g.removeClass("error"),t())}),a("body").on("mousewheel DOMMouseScroll",".audiojs, #extended-controls-post, #extended-controls-pre",function(i){i.preventDefault(),i.originalEvent.wheelDelta>0||i.originalEvent.detail<0?(c=parseFloat(c)+.05)>1?c=1:(m.setVolume(c),a("#volume-slider").val(c)):(c=parseFloat(c)-.05)<0?c=0:(m.setVolume(c),a("#volume-slider").val(c))}),a("body").on("click","#volume-slider",function(i){o(a(this))}),a("body").on("mousemove","#volume-slider",function(i){o(a(this))}),a("body").on("click","#playlist li",function(i){i.preventDefault(),a(this).addClass("playing").siblings().removeClass("playing"),m.load(a("a",this).attr("data-src")),m.play()}),a("body").on("click","#prev-track",function(a){r()}),a("body").on("click","#next-track",function(a){t()}),a(document).keydown(function(a){var i=a.charCode?a.charCode:a.keyCode;39==i?t():37==i?r():32==i&&m.playPause()})}(jQuery,audiojs);